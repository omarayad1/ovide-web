(function(){!function(){var a;a=Backbone.sync,Backbone.sync=function(b,c,d){return d||(d={}),d.crossDomain||(d.crossDomain=!0),d.xhrFields||(d.xhrFields={withCredentials:!1}),a(b,c,d)}}(),window.OvideWeb={Models:{},Collections:{},Views:{},Routers:{},init:function(){"use strict";return console.log("Hello from Backbone!")}},$(function(){"use strict";return OvideWeb.init()})}).call(this),this.JST=this.JST||{},this.JST["app/scripts/templates/editor.ejs"]=function(obj){obj||(obj={});{var __p="";_.escape}with(obj)__p+="";return __p},this.JST["app/scripts/templates/log.ejs"]=function(obj){obj||(obj={});{var __p="";_.escape}with(obj)__p+="<br />\nmessages are displayed here\n<br />\n";return __p},this.JST["app/scripts/templates/main.ejs"]=function(obj){obj||(obj={});{var __p="";_.escape}with(obj)__p+='<div class="file-tree"></div>\n<div id="editor"></div>\n<div id="options"></div>\n<div class="message-log"></div>\n<div class="modals">\n	<div class="modal fade" id="myModal" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">\n	  <div class="modal-dialog">\n	    <div class="modal-content">\n	      <div class="modal-header">\n	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n	        <h4 class="modal-title" id="myModalLabel">Enter a new file name</h4>\n	      </div>\n	      <div class="modal-body">\n	        <input class=\'form-control file-name-save\' type=\'text\' />\n	      </div>\n	      <div class="modal-footer">\n	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n	        <button type="button" class="btn btn-primary new-file-save" data-dismiss="modal">Save changes</button>\n	      </div>\n	    </div>\n	  </div>\n	</div>\n</div>';return __p},this.JST["app/scripts/templates/options.ejs"]=function(obj){obj||(obj={});{var __p="";_.escape}with(obj)__p+='<div class="btn-group btn-group-justified" role="group">\n    <a type="button" class="btn btn-default check-syntax" href="#">Check Syntax</a>\n    <a type="button" class="btn btn-default compile" href="#">Compile</a>\n    <a type="button" class="btn btn-default tb-gen" href="#">Generate Testbench Module</a>\n    <a type="button" class="btn btn-default wave-gen" href="#">Generate Wave</a>\n    <a type="button" class="btn btn-default get-output" href="#">Get VVP output</a>\n    <a type="button" class="btn btn-default save-file" href="#">Save</a>\n</div>\n';return __p},this.JST["app/scripts/templates/tree.ejs"]=function(obj){obj||(obj={});{var __t,__p="";_.escape,Array.prototype.join}with(obj)__p+="<ul>\n	",_.each(collection,function(a){__p+='\n	    <li data-jstree=\'{"icon": "glyphicon glyphicon-file"}\'>'+(null==(__t=a.filename)?"":__t)+"</li>\n	"}),__p+='\n    <li data-jstree=\'{"icon": "glyphicon glyphicon-plus"}\' class=\'new-file\' data-toggle="modal" data-target="#myModal">new file</li>\n\n</ul>';return __p},function(){"use strict";var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};OvideWeb.Models.EditorData=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.data="module verilogIsFun()\n endmodule",c.prototype.initialize=function(){},c.prototype.defaults={},c.prototype.validate=function(){},c.prototype.parse=function(a){return a},c}(Backbone.Model)}.call(this),function(){"use strict";var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};OvideWeb.Models.Files=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.url="http://ovide-api.herokuapp.com/file/:id",c.prototype.initialize=function(){},c.prototype.defaults={},c.prototype.validate=function(){},c.prototype.parse=function(a){return a},c}(Backbone.Model)}.call(this),function(){"use strict";var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};OvideWeb.Collections.Files=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.url="http://ovide-api.herokuapp.com/file",c.prototype.model=OvideWeb.Models.Files,c}(Backbone.Collection)}.call(this),function(){"use strict";var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};OvideWeb.Views.Main=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template=JST["app/scripts/templates/main.ejs"],c.prototype.tagName="div",c.prototype.id="",c.prototype.className="",c.prototype.events={"click .new-file-save":"saveFile"},c.prototype.el=$(".container"),c.prototype.initialize=function(){return this.render()},c.prototype.render=function(){return this.$el.html(this.template())},c.prototype.saveFile=function(){return $.post("http://ovide-api.herokuapp.com/file/create",{filename:$(".file-name-save").val()}),OvideWeb.Files.fetch()},c}(Backbone.View)}.call(this),function(){"use strict";var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};OvideWeb.Views.Editor=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template=JST["app/scripts/templates/editor.ejs"],c.prototype.tagName="div",c.prototype.id="",c.prototype.className="",c.prototype.events={},c.prototype.el=$("#editor"),c.prototype.initialize=function(){return this.editor=ace.edit("editor"),this.editor.setTheme("ace/theme/solarized_light"),this.editor.setFontSize("13pt"),this.editor.session.setMode("ace/mode/verilog"),this.listenTo(this.model,"change",this.render)},c.prototype.render=function(){return this.editor.setValue(this.model.toJSON().data),this.$el.html(this.template(this.model.toJSON()))},c}(Backbone.View)}.call(this),function(){"use strict";var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};OvideWeb.Views.Log=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template=JST["app/scripts/templates/log.ejs"],c.prototype.tagName="div",c.prototype.id="",c.prototype.className="",c.prototype.events={},c.prototype.el=$(".message-log"),c.prototype.initialize=function(){return this.render()},c.prototype.render=function(){return this.$el.html(this.template())},c}(Backbone.View)}.call(this),function(){"use strict";var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};OvideWeb.Views.Tree=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template=JST["app/scripts/templates/tree.ejs"],c.prototype.tagName="div",c.prototype.id="",c.prototype.className="",c.prototype.el=$(".file-tree"),c.prototype.initialize=function(){return this.listenTo(this.collection,"add",this.render),$(".file-tree").on("select_node.jstree",function(a,b){return"new-file"!==b.node.li_attr["class"]?$.get("http://ovide-api.herokuapp.com/file/read/"+b.node.text,function(a){return OvideWeb.EditorData.set({data:a})}):void 0})},c.prototype.render=function(){return this.$el.html(this.template({collection:this.collection.toJSON()})),$.jstree.create(".file-tree")},c}(Backbone.View)}.call(this),function(){"use strict";var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};OvideWeb.Views.Options=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template=JST["app/scripts/templates/options.ejs"],c.prototype.tagName="div",c.prototype.id="",c.prototype.className="",c.prototype.events={"click .save-file":"saveFile","click .check-syntax":"checkSyntax","click .compile":"compile","click .tb-gen":"generateTestbench","click .get-output":"getOutput","click .wave-gen":"getWave"},c.prototype.el=$("#options"),c.prototype.initialize=function(){return this.render()},c.prototype.render=function(){return this.$el.html(this.template())},c.prototype.getSelectedNode=function(){var a,b;$(".file-tree").jstree();try{b=$("#"+$(".file-tree").jstree().get_selected()[0]).text()}catch(c){a=c,b=0}return b},c.prototype.saveFile=function(){var a,b,c;return b=ace.edit("editor"),a=b.getSession().getValue(),c=this.getSelectedNode(),0!==c?(console.log(c),console.log(a),$.post("http://ovide-api.herokuapp.com/file/update",{filename:c,filecontent:a})):($(".message-log").text("you have to create a new file first"),0)},c.prototype.checkSyntax=function(){return this.saveFile(),$.post("http://ovide-api.herokuapp.com/verilog/check_syntax",{filename:this.getSelectedNode()},function(a){return $(".message-log").text(a)})},c.prototype.compile=function(){return this.saveFile(),$.post("http://ovide-api.herokuapp.com/verilog/compile",{filename:this.getSelectedNode()},function(a){return $(".message-log").text(a)})},c.prototype.generateTestbench=function(){return this.saveFile(),$.post("http://ovide-api.herokuapp.com/verilog/generate_testbench",{filename:this.getSelectedNode()})},c.prototype.getOutput=function(){return this.saveFile(),$.post("http://ovide-api.herokuapp.com/verilog/get_output",{filename:this.getSelectedNode()},function(a){return $(".message-log").text(a)})},c.prototype.getWave=function(){return this.saveFile(),$.post("http://ovide-api.herokuapp.com/verilog/get_wave",{filename:this.getSelectedNode()},function(a){return $(".message-log").text(a)})},c}(Backbone.View)}.call(this),function(){"use strict";var a,b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};OvideWeb.Routers.Main=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.routes={"":"main"},b}(Backbone.Router),a=new OvideWeb.Routers.Main,a.on("route:main",function(){var a,b,c,d,e;return window.OvideWeb.Files=new OvideWeb.Collections.Files,OvideWeb.Files.fetch(),OvideWeb.EditorData=new OvideWeb.Models.EditorData({data:"module verilogIsFun()\n endmodule"}),c=new OvideWeb.Views.Main,c.render(),a=new OvideWeb.Views.Editor({model:OvideWeb.EditorData}),a.render(),d=new OvideWeb.Views.Options,d.setElement("#options"),d.render(),b=new OvideWeb.Views.Log,b.setElement(".message-log"),b.render(),e=new OvideWeb.Views.Tree({collection:OvideWeb.Files}),e.setElement(".file-tree"),e.render()}),Backbone.history.start()}.call(this);